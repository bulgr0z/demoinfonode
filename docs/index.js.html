<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// var Protobuf = require('protobufjs')
// 	, Bytebuffer = Protobuf.Bytebuffer
// 	, Long = Protobuf.Long
//  , Varint = require('varint')
//  , Bufferpack = require('bufferpack')
var Fs = require('fs')
  , argv = require('yargs').argv
	, Parser = require('./src/core/parser.js')
  , Util = require('./src/utils/utils.js');

var demofile = argv._[0];
var bufferPointer;

console.log(argv)

var demoEvents = [];

Fs.readFile(demofile, function (err, data) {

	var demoBuffer = new DemoBuffer(data);
	var outputStream = Fs.createWriteStream('./results/results.txt', { 
		flags: 'w',
	  encoding: 'utf8',
	  mode: 0666 
	});

	var parser = new Parser(demoBuffer, outputStream);	
	// outputStream.once('open', function(descriptor) {
	// });

	
	//console.log(parser);

	// var demoHeader = demoBuffer.slice(0, 1072);
	// console.log(demoHeader);
	// console.log(demoBuffer);
	//var decoded = Bufferpack.unpack(format, demoHeader, 0);

	// console.log(demoBuffer);
	// var header = Structs.Header.decode(demoBuffer);
	// console.log(header);
	// console.log(demoBuffer);

	//console.log(decoded);

});

/**
 * Wraps our file buffer in an object containing the buffer, a cursor indicating
 * the current position and accessor methods.
 */
var DemoBuffer = function(buffer) {
	this.buffer = buffer;
};
DemoBuffer.prototype = {
	buffer : null,
	cursor : 0,

	getBuffer : function() {
		return this.buffer;
	},

	setOffset : function(offset) {
		this.cursor += offset;
	},

	getCursor : function() {
		return this.cursor;
	}
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Thu Nov 06 2014 18:02:40 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
